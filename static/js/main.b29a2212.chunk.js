(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{48:function(e,t,n){},57:function(e,t,n){e.exports={input:"search_input__QJzhT"}},69:function(e,t,n){e.exports={box:"input_box__2qeqR",textarea:"input_textarea__3jNF0"}},83:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),i=n.n(r),o=(n(83),n(17)),s=n(128),l=n(125),d=n(10),u=n(29),j=Object(u.b)({name:"search",initialState:{matching:null,matchingArray:[]},reducers:{setMatching:function(e,t){e.matching="string"===typeof t.payload?t.payload.toLowerCase():t.payload}}}),b=j.actions.setMatching,O=j.reducer,h=n(57),m=n.n(h),p=n(2),x=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(d.b)(),i=Object(c.useCallback)((function(e){r(b(e.target.value)),a(!0),""===e.target.value&&a(!1)}),[r]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:m.a.search,children:Object(p.jsx)("input",{className:m.a.input,id:"text",name:"text",type:"text",onChange:function(e){return i(e)},placeholder:"Search",autoFocus:!0,style:{background:n&&"white"}})})})},f=n(123),v=n(66),g=n.n(v),C=n(28),y=n(12),S=Object(u.b)({name:"list",initialState:{selected:[],list:[{date:"16.09.2021",content:"Call 0962783838 and order books",id:"1",completed:!0},{date:"17.09.2021",content:"buy food",id:"2",completed:!1},{date:"17.09.2021",content:"\u0421lean the room",id:"3",completed:!1}]},reducers:{addListItem:function(e,t){e.list.push(Object(C.a)(Object(C.a)({},t.payload),{},{completed:!1}))},setSelected:function(e,t){var n=e.selected.indexOf(t.payload);null===t.payload?e.selected=[]:-1===n?e.selected.push(t.payload):e.selected.splice(n,1)},setCompleted:function(e,t){var n=Object(y.a)(e).list.map((function(e){var n=t.payload.id;return e.id===n?Object(C.a)(Object(C.a)({},e),{},{completed:!e.completed,date:t.payload.date}):e}));n.sort((function(e,t){return e.completed<t.completed?1:e.completed>t.completed?-1:0})),e.list=n},deleteListItem:function(e){for(var t=[],n=function(n){var c=e.selected.find((function(t){return e.list[n].id===t}));e.list[n].id!==c&&t.push(Object(y.a)(e.list[n]))},c=0;c<e.list.length;c++)n(c);e.list=t},changeListItem:function(e,t){console.log(t.payload);var n=e.list.map((function(e){return e.id===t.payload.id?Object(C.a)(Object(C.a)({},e),{},{date:t.payload.utc,content:t.payload.content}):e}));e.list=n}}}),k=S.reducer,I=S.actions,w=I.addListItem,L=I.deleteListItem,N=I.changeListItem,_=I.setSelected,F=I.setCompleted,M=n(65),B=n.n(M);function J(){var e=Object(c.useContext)(se),t=e.setShowInput,n=e.showInput,a=Object(c.useCallback)((function(){!n&&t(!0)}),[n,t]);return Object(p.jsx)(f.a,{children:Object(p.jsx)("span",{onClick:a,style:{color:"White",fontSize:"1rem"},children:n?null:Object(p.jsx)(B.a,{})})})}function T(e){var t=e.classes,n=Object(d.b)(),a=Object(d.c)((function(e){return e.list})).selected,r=Object(c.useCallback)((function(){n(L()),n(_(null))}),[n]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(l.a,{className:t.header,children:[Object(p.jsx)(f.a,{style:{color:"White"},children:a.length>0&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(g.a,{color:"secondary",onClick:r})})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(x,{})}),Object(p.jsx)(J,{})]})})}var R=n(49),W=n(69),q=n.n(W);function z(e){var t=e.handleChange,n=e.submit,c=e.value;return Object(p.jsx)("textarea",{className:q.a.textarea,id:"text",name:"text",onChange:t,onBlur:n,autoFocus:!0,maxLength:"100",value:c})}var E=n(48),P=n.n(E),V=function(e,t){return t.find((function(t){return t.id===e})).content},A=(new Date).toJSON().slice(0,10).replace(/-/g,".").split(".").reverse().join(".");function D(e){var t=e.id,n=Object(d.c)((function(e){return e.list})).list,a=Object(d.b)(),r=Object(c.useContext)(se).setCurrentId,i=Object(c.useCallback)((function(e,n){e!==n&&a(N({utc:A,id:t,content:e})),r(null)}),[t,a,r]),o=Object(R.a)({initialValues:{text:V(t,n)},onSubmit:function(e){var c=V(t,n);i(e.text,c)}});return Object(p.jsx)("form",{onSubmit:o.handleSubmit,className:P.a.form,children:Object(p.jsx)(z,{handleChange:o.handleChange,submit:o.handleSubmit,id:t,value:o.values.text})})}var Q=function e(t){var n=String(Math.floor(200*Math.random())),c=function(e){return e.map((function(e){return e.id}))}(t);if(!c.some((function(e){return e===n})))return n;e(t)},G=n(126);function H(){var e=Object(d.b)(),t=Object(c.useContext)(se),n=t.setShowInput,a=t.list,r=Object(c.useCallback)((function(){n(!1)}),[n]),i=Object(R.a)({initialValues:{text:""},onSubmit:function(t){e(w({id:Q(a),content:t.text,date:A})),n(!1)}});return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:i.handleSubmit,className:P.a.form,children:[Object(p.jsx)(z,{handleChange:i.handleChange}),Object(p.jsx)(G.a,{variant:"contained",type:"submit",color:"secondary",style:{height:"2rem"},children:"Save"}),Object(p.jsx)(G.a,{variant:"contained",type:"click",onClick:r,style:{color:"white",background:"black",marginLeft:"0.4rem",height:"2rem"},children:"Cancel"})]})})}var K=n(130),U=n(129),X=n(70),Y=n.n(X);function Z(e){var t=e.id,n=Object(c.useContext)(se),a=n.setCurrentId,r=n.setShowInput,i=Object(c.useCallback)((function(){r(!1),a(t)}),[r,t,a]);return Object(p.jsx)("div",{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(Y.a,{onClick:i})})})}var $=n(72),ee=n.n($),te=n(71),ne=n.n(te);function ce(e){var t=e.completed,n=e.id,a=Object(d.b)(),r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){s&&a(F({id:n,date:A})),l(!1)}),[s,a,n]),Object(p.jsx)(f.a,{onClick:function(){return l(!0)},children:t?Object(p.jsx)(ne.a,{color:"success"}):Object(p.jsx)(ee.a,{})})}var ae=n(127),re=Object(ae.a)((function(e){return{root:{width:"70%",marginLeft:"auto",marginRight:"auto",backgroundColor:e.palette.background.paper,borderBottom:"none",marginTop:"0",paddingTop:"0"},item:{borderBottom:"1px solid gray",marginTop:"0"},header:{display:"flex",justifyContent:"space-between",background:"black",color:"White"},content:{padding:"0.6rem"}}}));function ie(e){var t=e.value,n=e.labelId,c=Object(d.b)(),r=re(),i=a.a.useCallback((function(e){c(_(e))}),[c]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f.a,{children:Object(p.jsx)(U.a,{edge:"start",tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n},onChange:function(){i(t.id)}})}),Object(p.jsx)(Z,{id:t.id}),Object(p.jsx)(ce,{completed:t.completed,id:t.id}),Object(p.jsx)(K.a,{id:n,primary:t.content,className:r.content}),Object(p.jsxs)(f.a,{children:[" ",t.date," "]})]})}function oe(e){var t,n,a=e.list,r=re(),i=Object(d.c)((function(e){return e.search})).matching,o=Object(c.useContext)(se),u=o.currentId,j=o.showInput;return Object(p.jsxs)(s.a,{className:r.root,children:[Object(p.jsx)(T,{classes:r}),j&&Object(p.jsx)(l.a,{role:void 0,dense:!0,button:!0,className:r.item,children:Object(p.jsx)(H,{})},"0"),(t=a,n=i,t.filter((function(e){var c=e.content&&e.content.toLowerCase().includes(n),a=e.date&&e.date.toLowerCase().includes(n);return n?c|a&&e:t}))).map((function(e){var t="checkbox-list-label-".concat(e.id);return Object(p.jsx)(l.a,{role:void 0,dense:!0,button:!0,className:r.item,children:u===e.id?Object(p.jsx)(D,{id:e.id}):Object(p.jsx)(ie,{value:e,labelId:t})},e.id)})).reverse()]})}var se=Object(c.createContext)();function le(){var e=Object(d.c)((function(e){return e.list})).list,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(p.jsx)(se.Provider,{value:{showInput:a,setShowInput:r,currentId:l,setCurrentId:u,list:e},children:Object(p.jsx)("div",{children:Object(p.jsx)(oe,{list:e})})})}var de=n(21),ue=Object(de.b)({list:k,search:O}),je=Object(u.a)({reducer:ue});window.store=je;var be=je;var Oe=function(){return Object(p.jsx)(d.a,{store:be,children:Object(p.jsx)("div",{children:Object(p.jsx)(le,{})})})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Oe,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.b29a2212.chunk.js.map